<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åœ°çƒè‡ªè½¬ - äº¤äº’å¼æ•™å­¦</title>
    <style>
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden !important;
            position: fixed;
            top: 0;
            left: 0;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            background: linear-gradient(135deg, #0c1445 0%, #1a237e 50%, #0d1b2a 100%);
            color: #fff;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        header {
            flex-shrink: 0;
            text-align: center;
            padding: 6px 15px;
            background: rgba(0, 0, 0, 0.3);
        }

        header h1 {
            font-size: 1.1rem;
            white-space: nowrap;
            text-shadow: 0 0 20px rgba(255, 200, 100, 0.5);
        }

        .main-content {
            flex: 1;
            position: relative;
            overflow: hidden;
            min-height: 0;
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a15 100%);
        }

        #three-canvas {
            display: block;
            width: 100%;
            height: 100%;
        }




        /* è§‚å¯Ÿè§†è§’é€‰æ‹©å™¨ */
        .view-selector {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.85);
            padding: 12px 15px;
            border-radius: 10px;
            font-size: 0.8rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            z-index: 10;
        }

        .view-selector h4 {
            color: #ffd54f;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .view-btn {
            display: block;
            width: 100%;
            padding: 8px 12px;
            margin: 5px 0;
            border: none;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s;
            text-align: left;
        }

        .view-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .view-btn.active {
            background: linear-gradient(135deg, #4fc3f7, #0288d1);
            color: #fff;
        }

        .view-btn .icon {
            margin-right: 8px;
        }

        /* å·¦ä¸‹è§’å›¾ä¾‹ */
        .corner-legend {
            position: absolute;
            bottom: 70px;
            left: 10px;
            background: rgba(0, 0, 0, 0.75);
            padding: 10px 12px;
            border-radius: 8px;
            font-size: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            z-index: 50;
        }
        
        .corner-legend h4 {
            color: #ffd54f;
            font-size: 0.8rem;
            margin-bottom: 8px;
        }
        
        .corner-legend .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 5px 0;
            color: #ccc;
        }
        
        .corner-legend .legend-color {
            width: 20px;
            height: 4px;
            border-radius: 2px;
        }
        
        .corner-legend .legend-color.equator { background: #44ff44; }
        .corner-legend .legend-color.axis { background: #ffffff; }
        .corner-legend .legend-color.rotation { background: #ff3333; }
        .corner-legend .legend-color.polar-star { background: #ffffcc; }
        .corner-legend .legend-color.tropic-n { background: #ff6633; }
        .corner-legend .legend-color.tropic-s { background: #33bbff; }


        
        /* å³ä¸‹è§’åŠ¨ç”»æ§åˆ¶ */
        .corner-controls {
            position: absolute;
            bottom: 70px;
            right: 10px;
            background: rgba(0, 0, 0, 0.75);
            padding: 10px 12px;
            border-radius: 8px;
            font-size: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            z-index: 50;
        }
        
        .corner-controls h4 {
            color: #ffd54f;
            font-size: 0.8rem;
            margin-bottom: 8px;
        }
        
        .corner-controls .slider-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .corner-controls .slider-row label {
            color: #aaa;
            white-space: nowrap;
            font-size: 0.7rem;
            min-width: 45px;
        }
        
        .corner-controls input[type="range"] {
            width: 80px;
            height: 4px;
        }

        .corner-controls .slider-value {
            color: #81d4fa;
            font-size: 0.7rem;
            min-width: 30px;
            text-align: right;
        }
        
        .corner-controls .speed-btns {
            display: flex;
            gap: 4px;
            margin-top: 8px;
        }
        
        .corner-controls .speed-btns button {
            padding: 4px 8px;
            border: none;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
            cursor: pointer;
            font-size: 0.7rem;
            transition: background 0.3s;
        }
        
        .corner-controls .speed-btns button:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .corner-controls .speed-btns button.active {
            background: #ffd54f;
            color: #000;
        }

        /* çº¢è‰²æ ‡è®°ç‚¹æç¤º */
        .marker-hint {
            position: absolute;
            bottom: 175px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.75rem;
            border: 1px solid rgba(255, 100, 100, 0.5);
            z-index: 50;
        }

        .marker-hint .hint-title {
            color: #ff6666;
            font-weight: bold;
            margin-bottom: 6px;
        }

        .marker-hint .hint-content {
            color: #aaa;
            font-size: 0.7rem;
            line-height: 1.5;
        }

        .marker-hint .hint-content div:first-child {
            color: #aaffaa;
        }

        /* å·¥å…·æç¤º */
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            padding: 12px 15px;
            border-radius: 8px;
            font-size: 0.85rem;
            max-width: 300px;
            line-height: 1.6;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .tooltip.visible {
            opacity: 1;
        }
        
        /* è¿”å›ä¸»é¡µæŒ‰é’® */
        .home-btn {
            position: fixed;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 213, 79, 0.9);
            border: none;
            color: #1a237e;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            transition: all 0.3s;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }
        
        .home-btn:hover {
            transform: scale(1.1);
            background: #ffd54f;
        }

        /* å¸®åŠ©æŒ‰é’® */
        .help-btn {
            position: fixed;
            bottom: 15px;
            left: 15px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(100, 180, 255, 0.9);
            border: none;
            color: #fff;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            transition: all 0.3s;
            z-index: 100;
        }
        
        .help-btn:hover {
            transform: scale(1.1);
            background: #64b4ff;
        }
        
        /* çŸ¥è¯†ç‚¹å¼¹çª— - ç°ä»£é€æ˜é£æ ¼ */
        .knowledge-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.15);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        
        .knowledge-modal.visible {
            display: flex;
        }
        
        .knowledge-modal-content {
            background: rgba(10, 20, 40, 0.55);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            padding: 22px;
            width: 88%;
            max-width: 480px;
            max-height: 70vh;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .knowledge-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 14px;
            flex-shrink: 0;
        }
        
        .knowledge-modal-header h2 {
            color: #fff;
            font-size: 1rem;
            margin: 0;
            font-weight: 500;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
        
        .knowledge-modal-header .close-btn {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0.9;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .knowledge-modal-header .close-btn:hover {
            opacity: 1;
            background: rgba(255, 255, 255, 0.25);
        }
        
        /* å¡ç‰‡æ»‘åŠ¨å®¹å™¨ */
        .card-container {
            flex: 1;
            position: relative;
            overflow: hidden;
            min-height: 260px;
        }
        
        .card-wrapper {
            display: flex;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            height: 100%;
        }
        
        .knowledge-card {
            min-width: 100%;
            max-height: 100%;
            overflow-y: auto;
            padding: 0 4px;
            box-sizing: border-box;
        }
        
        .knowledge-card-inner {
            background: rgba(255, 255, 255, 0.08);
            padding: 18px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            min-height: 240px;
        }
        
        .knowledge-card h4 {
            color: #ffd54f;
            margin-bottom: 12px;
            font-size: 1rem;
            font-weight: 600;
            text-shadow: 0 1px 3px rgba(0,0,0,0.4);
        }
        
        .knowledge-card p {
            color: rgba(255, 255, 255, 0.95);
            font-size: 0.85rem;
            line-height: 1.7;
            margin-bottom: 8px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .knowledge-card .formula {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'SF Mono', 'Consolas', monospace;
            color: #80ffaa;
            font-size: 0.8rem;
            line-height: 1.6;
            border: 1px solid rgba(128, 255, 170, 0.25);
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .knowledge-card ul {
            margin-left: 16px;
            margin-top: 8px;
        }

        .knowledge-card li {
            color: rgba(255, 255, 255, 0.92);
            margin: 4px 0;
            line-height: 1.6;
            font-size: 0.85rem;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .knowledge-card table {
            width: 100%;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 8px;
            border-collapse: collapse;
            font-size: 0.8rem;
        }
        
        .knowledge-card th {
            padding: 6px;
            text-align: left;
            color: #ffd54f;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .knowledge-card td {
            padding: 5px 6px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        /* å¯¼èˆªæ§åˆ¶ */
        .card-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 14px;
            padding-top: 14px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }
        
        .card-nav-btn {
            background: rgba(255, 255, 255, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 8px 16px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.82rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .card-nav-btn:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.22);
            transform: translateY(-1px);
        }
        
        .card-nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .card-indicator {
            display: flex;
            gap: 6px;
            align-items: center;
        }
        
        .card-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .card-dot.active {
            background: #ffd54f;
            transform: scale(1.2);
        }
        
        .card-dot:hover {
            background: rgba(255, 255, 255, 0.5);
        }
        
        .card-counter {
            color: #aaa;
            font-size: 0.85rem;
        }

        /* çº¬åº¦æŒ‡ç¤ºå™¨ */
        .latitude-indicator {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #81d4fa;
            display: none;
            z-index: 50;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ åœ°çƒè‡ªè½¬ - äº¤äº’å¼æ•™å­¦ ğŸŒ€</h1>
        </header>

        <div class="main-content">
            <div id="canvas-container">
                <canvas id="three-canvas"></canvas>
                
                <!-- è§‚å¯Ÿè§†è§’é€‰æ‹© -->
                <div class="view-selector">
                    <h4>ğŸ‘ï¸ è§‚å¯Ÿè§†è§’</h4>
                    <button class="view-btn active" data-view="default">
                        <span class="icon">ğŸŒ</span>æ–œä¾§è§†è§’ï¼ˆé»˜è®¤ï¼‰
                    </button>
                    <button class="view-btn" data-view="north-pole">
                        <span class="icon">ğŸ”µ</span>åŒ—æä¸Šç©ºä¿¯è§†
                    </button>
                    <button class="view-btn" data-view="south-pole">
                        <span class="icon">âšª</span>å—æä¸Šç©ºä»°è§†
                    </button>
                    <button class="view-btn" data-view="equator">
                        <span class="icon">ğŸŸ¢</span>èµ¤é“ä¾§é¢è§†è§’
                    </button>
                    <button class="view-btn" data-view="sun">
                        <span class="icon">â˜€ï¸</span>å¤ªé˜³è§†è§’
                    </button>
                </div>
                
                <!-- å·¦ä¸‹è§’å›¾ä¾‹ -->
                <div class="corner-legend">
                    <h4>ğŸ“ å›¾ä¾‹</h4>
                    <div class="legend-item">
                        <div class="legend-color equator"></div>
                        <span>èµ¤é“ (0Â°)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color tropic-n"></div>
                        <span>åŒ—å›å½’çº¿ (23.5Â°N)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color tropic-s"></div>
                        <span>å—å›å½’çº¿ (23.5Â°S)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color axis"></div>
                        <span>åœ°è½´</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color rotation"></div>
                        <span>è‡ªè½¬æ–¹å‘æ ‡è®°ç‚¹</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color polar-star"></div>
                        <span>åŒ—ææ˜Ÿ</span>
                    </div>
                </div>
                
                <!-- çº¢è‰²æ ‡è®°ç‚¹æç¤º -->
                <div class="marker-hint">
                    <div class="hint-title">ğŸ”´ è§‚å¯Ÿçº¢è‰²æ ‡è®°ç‚¹çš„ç§»åŠ¨</div>
                    <div class="hint-content">
                        <div>è‡ªè½¬æ–¹å‘ï¼šè‡ªè¥¿å‘ä¸œ</div>
                        <div>åŒ—æä¿¯è§† = é€†æ—¶é’ˆ</div>
                        <div>å—æä»°è§† = é¡ºæ—¶é’ˆ</div>
                    </div>
                </div>
                
                <!-- å³ä¸‹è§’åŠ¨ç”»æ§åˆ¶ -->
                <div class="corner-controls">
                    <h4>âš™ï¸ æ§åˆ¶é¢æ¿</h4>
                    <div class="slider-row">
                        <label>è‡ªè½¬é€Ÿåº¦</label>
                        <input type="range" id="speed-slider" min="0" max="100" value="50">
                        <span class="slider-value" id="speed-value">1x</span>
                    </div>
                    <div class="speed-btns">
                        <button id="pause-btn">æš‚åœ</button>
                        <button id="slow-btn">æ…¢é€Ÿ</button>
                        <button id="normal-btn" class="active">æ­£å¸¸</button>
                        <button id="fast-btn">å¿«é€Ÿ</button>
                    </div>
                </div>
                
                <!-- çº¬åº¦æŒ‡ç¤ºå™¨ -->
                <div class="latitude-indicator" id="latitude-indicator"></div>
            </div>
        </div>
    </div>

    <!-- è¿”å›ä¸»é¡µæŒ‰é’® -->
    <a href="../../index.html" class="home-btn" title="è¿”å›ä¸»é¡µ">ğŸ </a>

    <!-- å¸®åŠ©æŒ‰é’® -->
    <button class="help-btn" onclick="showKnowledgeModal()" title="æŸ¥çœ‹è¯¦ç»†è¯´æ˜">?</button>

    <!-- çŸ¥è¯†ç‚¹å¼¹çª— -->
    <div class="knowledge-modal" id="knowledge-modal">
        <div class="knowledge-modal-content">
            <div class="knowledge-modal-header">
                <h2>ğŸ“š åœ°çƒè‡ªè½¬ - çŸ¥è¯†å¡ç‰‡</h2>
                <button class="close-btn" onclick="hideKnowledgeModal()">Ã—</button>
            </div>
            
            <div class="card-container">
                <div class="card-wrapper" id="card-wrapper">
                    <!-- å¡ç‰‡1: ä»€ä¹ˆæ˜¯åœ°çƒè‡ªè½¬ -->
                    <div class="knowledge-card">
                        <div class="knowledge-card-inner">
                            <h4>ğŸŒ ä»€ä¹ˆæ˜¯åœ°çƒè‡ªè½¬ï¼Ÿ</h4>
                            <p><strong>å®šä¹‰ï¼š</strong>åœ°çƒç»•ç€ç©¿è¿‡å—åŒ—ä¸¤æçš„åœ°è½´è‡ªè¥¿å‘ä¸œè½¬åŠ¨ï¼Œç§°ä¸ºåœ°çƒè‡ªè½¬ã€‚</p>
                            <p><strong>æ–¹å‘ï¼š</strong>è‡ªè¥¿å‘ä¸œã€‚ä»åŒ—æä¸Šç©ºä¿¯è§†ä¸ºé€†æ—¶é’ˆæ–¹å‘ï¼Œä»å—æä¸Šç©ºä»°è§†ä¸ºé¡ºæ—¶é’ˆæ–¹å‘ã€‚</p>
                            <p><strong>åœ°è½´æŒ‡å‘ï¼š</strong>åœ°è½´åŒ—ç«¯å§‹ç»ˆæŒ‡å‘åŒ—ææ˜Ÿé™„è¿‘ï¼Œè¿™ä¸€æŒ‡å‘åœ¨çŸ­æœŸå†…åŸºæœ¬ä¿æŒä¸å˜ã€‚</p>
                        </div>
                    </div>
                    
                    <!-- å¡ç‰‡2: ä¸œå’Œè¥¿çš„å®šä¹‰ -->
                    <div class="knowledge-card">
                        <div class="knowledge-card-inner">
                            <h4>ğŸ§­ ä¸œå’Œè¥¿æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Ÿ</h4>
                            <p><strong>æ ¸å¿ƒæ¦‚å¿µï¼š</strong>ä¸œè¥¿æ–¹å‘æ˜¯åŸºäºåœ°çƒè‡ªè½¬æ¥å®šä¹‰çš„ã€‚</p>
                            <ul>
                                <li><strong>ä¸œæ–¹</strong> = åœ°çƒè‡ªè½¬çš„å‰è¿›æ–¹å‘ï¼ˆå¤ªé˜³å‡èµ·çš„æ–¹å‘ï¼‰</li>
                                <li><strong>è¥¿æ–¹</strong> = åœ°çƒè‡ªè½¬çš„åæ–¹å‘ï¼ˆå¤ªé˜³è½ä¸‹çš„æ–¹å‘ï¼‰</li>
                            </ul>
                            <div class="formula">åœ°çƒè‡ªè½¬ â†’ å¤ªé˜³ä¸œå‡è¥¿è½ â†’ äººç±»å®šä¹‰"ä¸œ""è¥¿"</div>
                            <p><strong>å¦‚ä½•åˆ¤æ–­ï¼Ÿ</strong>é¢å‘åŒ—æ–¹ï¼Œå³æ‰‹è¾¹=ä¸œï¼Œå·¦æ‰‹è¾¹=è¥¿</p>
                        </div>
                    </div>
                    
                    <!-- å¡ç‰‡3: è‡ªè½¬å‘¨æœŸ -->
                    <div class="knowledge-card">
                        <div class="knowledge-card-inner">
                            <h4>â° è‡ªè½¬å‘¨æœŸ</h4>
                            <p><strong>å¤ªé˜³æ—¥ (Solar Day)ï¼š</strong></p>
                            <ul>
                                <li>ä»¥å¤ªé˜³ä¸ºå‚ç…§ç‰©æµ‹å®š</li>
                                <li>æ—¶é—´é•¿åº¦ï¼š<strong>24å°æ—¶</strong></li>
                                <li>æ˜¼å¤œæ›´æ›¿çš„å‘¨æœŸ</li>
                            </ul>
                            <p><strong>æ’æ˜Ÿæ—¥ (Sidereal Day)ï¼š</strong></p>
                            <ul>
                                <li>ä»¥é¥è¿œæ’æ˜Ÿä¸ºå‚ç…§ç‰©</li>
                                <li>æ—¶é—´é•¿åº¦ï¼š<strong>23å°æ—¶56åˆ†4ç§’</strong></li>
                                <li>åœ°çƒè‡ªè½¬çš„çœŸæ­£å‘¨æœŸ</li>
                            </ul>
                            <p style="color: #80ffaa;"><strong>å·®å¼‚åŸå› ï¼š</strong>åœ°çƒå…¬è½¬ä½¿å…¶éœ€å¤šè½¬çº¦1Â°æ‰èƒ½å†æ¬¡é¢å¯¹å¤ªé˜³</p>
                        </div>
                    </div>
                    
                    <!-- å¡ç‰‡4: è§’é€Ÿåº¦ -->
                    <div class="knowledge-card">
                        <div class="knowledge-card-inner">
                            <h4>ğŸ“ è§’é€Ÿåº¦ (Angular Velocity)</h4>
                            <p><strong>å®šä¹‰ï¼š</strong>å•ä½æ—¶é—´å†…è½¬è¿‡çš„è§’åº¦ã€‚</p>
                            <div class="formula">è§’é€Ÿåº¦ Ï‰ = 360Â° Ã· 24h â‰ˆ 15Â°/å°æ—¶</div>
                            <p><strong>ç‰¹ç‚¹ï¼š</strong></p>
                            <ul>
                                <li>é™¤å—åŒ—ä¸¤æç‚¹å¤–ï¼Œåœ°çƒè¡¨é¢å„ç‚¹çš„è§’é€Ÿåº¦éƒ½<strong>ç›¸ç­‰</strong></li>
                                <li>ä¸¤æç‚¹çš„è§’é€Ÿåº¦ä¸º <strong>0</strong></li>
                                <li>ä»»æ„çº¬åº¦çš„è§’é€Ÿåº¦éƒ½æ˜¯ 15Â°/å°æ—¶</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- å¡ç‰‡5: çº¿é€Ÿåº¦ -->
                    <div class="knowledge-card">
                        <div class="knowledge-card-inner">
                            <h4>ğŸ“ çº¿é€Ÿåº¦ (Linear Velocity)</h4>
                            <p><strong>å®šä¹‰ï¼š</strong>å•ä½æ—¶é—´å†…èµ°è¿‡çš„å¼§é•¿ï¼ˆè·ç¦»ï¼‰ã€‚</p>
                            <div class="formula">v = 2Ï€RÂ·cos(çº¬åº¦) Ã· 24h<br>èµ¤é“çº¿é€Ÿåº¦ â‰ˆ 1670 km/h</div>
                            <p><strong>è§„å¾‹ï¼š</strong></p>
                            <ul>
                                <li>çº¿é€Ÿåº¦ä»<strong>èµ¤é“å‘ä¸¤æé€’å‡</strong></li>
                                <li>èµ¤é“å¤„çº¿é€Ÿåº¦æœ€å¤§</li>
                                <li>ä¸¤æç‚¹çº¿é€Ÿåº¦ä¸º 0</li>
                                <li>60Â°çº¬åº¦ = èµ¤é“çš„ä¸€åŠ</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- å¡ç‰‡6: çº¿é€Ÿåº¦å¯¹æ¯”è¡¨ -->
                    <div class="knowledge-card">
                        <div class="knowledge-card-inner">
                            <h4>ğŸŒ ä¸åŒçº¬åº¦çº¿é€Ÿåº¦å¯¹æ¯”</h4>
                            <table>
                                <tr>
                                    <th>çº¬åº¦</th>
                                    <th style="text-align: center;">çº¿é€Ÿåº¦ (km/h)</th>
                                    <th style="text-align: center;">ç›¸å¯¹èµ¤é“</th>
                                </tr>
                                <tr><td>0Â° (èµ¤é“)</td><td style="text-align: center;">1670</td><td style="text-align: center;">100%</td></tr>
                                <tr><td>30Â°</td><td style="text-align: center;">1447</td><td style="text-align: center;">87%</td></tr>
                                <tr><td>45Â°</td><td style="text-align: center;">1181</td><td style="text-align: center;">71%</td></tr>
                                <tr><td>60Â°</td><td style="text-align: center;">835</td><td style="text-align: center;">50%</td></tr>
                                <tr><td>90Â° (æç‚¹)</td><td style="text-align: center;">0</td><td style="text-align: center;">0%</td></tr>
                            </table>
                        </div>
                    </div>
                    
                    <!-- å¡ç‰‡7: è®°å¿†è¦ç‚¹ -->
                    <div class="knowledge-card">
                        <div class="knowledge-card-inner">
                            <h4>ğŸ’¡ è®°å¿†è¦ç‚¹</h4>
                            <ul>
                                <li>è‡ªè½¬æ–¹å‘ï¼š<strong>è‡ªè¥¿å‘ä¸œ</strong>ï¼ˆåŒ—æä¸Šç©ºçœ‹é€†æ—¶é’ˆï¼‰</li>
                                <li>åœ°è½´æŒ‡å‘ï¼š<strong>åŒ—ææ˜Ÿé™„è¿‘</strong></li>
                                <li>å¤ªé˜³æ—¥ <strong>24h</strong>ï¼Œæ’æ˜Ÿæ—¥ <strong>23h56m4s</strong></li>
                                <li>è§’é€Ÿåº¦ï¼šé™¤æç‚¹å¤–å…¨çƒç›¸ç­‰ï¼Œçº¦ <strong>15Â°/å°æ—¶</strong></li>
                                <li>çº¿é€Ÿåº¦ï¼š<strong>èµ¤é“æœ€å¤§</strong>ï¼Œå‘ä¸¤æé€’å‡</li>
                                <li>60Â°çº¬åº¦çº¿é€Ÿåº¦ = èµ¤é“çš„<strong>ä¸€åŠ</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å¯¼èˆªæ§åˆ¶ -->
            <div class="card-nav">
                <button class="card-nav-btn" id="prev-card" onclick="prevCard()">
                    <span>â—€</span> ä¸Šä¸€ä¸ª
                </button>
                <div class="card-indicator" id="card-indicator"></div>
                <button class="card-nav-btn" id="next-card" onclick="nextCard()">
                    ä¸‹ä¸€ä¸ª <span>â–¶</span>
                </button>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <!-- Three.js åº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script>
        // ============================================
        // åœ°çƒè‡ªè½¬ - äº¤äº’å¼æ•™å­¦åŠ¨ç”»
        // ============================================

        // å…¨å±€å¸¸é‡å®šä¹‰
        const OBLIQUITY = 23.5; // é»„èµ¤äº¤è§’åº¦æ•°
        const OBLIQUITY_RAD = OBLIQUITY * Math.PI / 180;
        const EARTH_RADIUS = 6371; // åœ°çƒåŠå¾„ km
        const EQUATOR_VELOCITY = 1670; // èµ¤é“çº¿é€Ÿåº¦ km/h

        // åœºæ™¯å˜é‡
        let scene, camera, renderer;
        let earth, earthGroup, sun, polarStar;
        let rotationArrows = [];
        let earthRotation = 0;
        let animationSpeed = 1;
        let isPaused = false;
        let currentView = 'default';
        let currentLatitude = 0;
        let timeType = 'solar'; // 'solar' or 'sidereal'

        // ç›¸æœºä½ç½®é¢„è®¾
        const cameraPositions = {
            'default': { pos: [15, 10, 20], lookAt: [0, 0, 0] },
            'north-pole': { pos: [0, 35, 0.01], lookAt: [0, 0, 0] },
            'south-pole': { pos: [0, -35, 0.01], lookAt: [0, 0, 0] },
            'equator': { pos: [30, 0, 0], lookAt: [0, 0, 0] },
            'sun': { pos: [-25, 5, 0], lookAt: [0, 0, 0] }
        };

        // ============================================
        // åˆå§‹åŒ–åœºæ™¯
        // ============================================
        function init() {
            const container = document.getElementById('canvas-container');
            const canvas = document.getElementById('three-canvas');

            // åˆ›å»ºåœºæ™¯
            scene = new THREE.Scene();

            // åˆ›å»ºç›¸æœº
            camera = new THREE.PerspectiveCamera(
                45,
                container.clientWidth / container.clientHeight,
                0.1,
                1000
            );
            camera.position.set(15, 10, 20);
            camera.lookAt(0, 0, 0);

            // åˆ›å»ºæ¸²æŸ“å™¨
            renderer = new THREE.WebGLRenderer({
                canvas: canvas,
                antialias: true,
                alpha: true
            });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // åˆ›å»ºåœºæ™¯å…ƒç´ 
            createStarfield();
            createSun();
            createEarth();
            createPolarStar();
            createRotationIndicators();

            // æ·»åŠ å…‰ç…§
            const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
            scene.add(ambientLight);

            // çª—å£å¤§å°è°ƒæ•´
            window.addEventListener('resize', onWindowResize);

            // è®¾ç½®äº‹ä»¶ç›‘å¬
            setupEventListeners();

            // å¼€å§‹åŠ¨ç”»
            animate();
        }

        // ============================================
        // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
        // ============================================
        function createStarfield() {
            const starGeometry = new THREE.BufferGeometry();
            const starCount = 2000;
            const positions = new Float32Array(starCount * 3);

            for (let i = 0; i < starCount * 3; i += 3) {
                const radius = 100 + Math.random() * 100;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);
                
                positions[i] = radius * Math.sin(phi) * Math.cos(theta);
                positions[i + 1] = radius * Math.sin(phi) * Math.sin(theta);
                positions[i + 2] = radius * Math.cos(phi);
            }

            starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            
            const starMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.5,
                transparent: true,
                opacity: 0.8
            });

            const stars = new THREE.Points(starGeometry, starMaterial);
            scene.add(stars);
        }

        // ============================================
        // åˆ›å»ºå¤ªé˜³
        // ============================================
        function createSun() {
            const sunGeometry = new THREE.SphereGeometry(2, 32, 32);
            const sunMaterial = new THREE.MeshBasicMaterial({
                color: 0xffdd00,
                transparent: true,
                opacity: 1
            });
            sun = new THREE.Mesh(sunGeometry, sunMaterial);
            sun.position.set(-30, 5, 0);
            scene.add(sun);

            // å¤ªé˜³å…‰æ™•
            const glowGeometry = new THREE.SphereGeometry(3, 32, 32);
            const glowMaterial = new THREE.MeshBasicMaterial({
                color: 0xffaa00,
                transparent: true,
                opacity: 0.3
            });
            const glow = new THREE.Mesh(glowGeometry, glowMaterial);
            sun.add(glow);

            // å¤ªé˜³ç‚¹å…‰æº
            const sunLight = new THREE.PointLight(0xffffff, 1.5, 100);
            sun.add(sunLight);

            // æ·»åŠ å¤ªé˜³æ ‡ç­¾
            addTextSprite('å¤ªé˜³', sun.position.clone().add(new THREE.Vector3(0, 4, 0)), 0xffdd00);
        }

        // ============================================
        // åˆ›å»ºåœ°çƒ
        // ============================================
        function createEarth() {
            earthGroup = new THREE.Group();
            scene.add(earthGroup);
            
            // åˆ›å»ºä¸€ä¸ªå€¾æ–œçš„å®¹å™¨ï¼Œç”¨äºæ”¾ç½®åœ°è½´ç­‰å›ºå®šå…ƒç´ 
            const tiltedGroup = new THREE.Group();
            tiltedGroup.rotation.z = -OBLIQUITY_RAD; // å‘å³å€¾æ–œï¼ˆåƒçœŸå®åœ°çƒä»ªä¸€æ ·ï¼‰
            earthGroup.add(tiltedGroup);

            // åœ°çƒæœ¬ä½“ï¼ˆä¼šè‡ªè½¬ï¼‰
            const earthGeometry = new THREE.SphereGeometry(5, 64, 64);
            
            // åŠ è½½åœ°çƒçº¹ç†
            const textureLoader = new THREE.TextureLoader();
            const earthTexture = textureLoader.load(
                'https://unpkg.com/three-globe@2.24.10/example/img/earth-blue-marble.jpg'
            );
            const bumpTexture = textureLoader.load(
                'https://unpkg.com/three-globe@2.24.10/example/img/earth-topology.png'
            );
            
            const earthMaterial = new THREE.MeshPhongMaterial({
                map: earthTexture,
                bumpMap: bumpTexture,
                bumpScale: 0.1,
                specular: new THREE.Color(0x333333),
                shininess: 15
            });
            
            earth = new THREE.Mesh(earthGeometry, earthMaterial);
            earth.renderOrder = 10;
            tiltedGroup.add(earth);
            
            // ä¿å­˜tiltedGroupçš„å¼•ç”¨ï¼Œç”¨äºæ·»åŠ å›ºå®šå…ƒç´ 
            earthGroup.userData.tiltedGroup = tiltedGroup;
            
            // æ·»åŠ å¤§æ°”å±‚
            createAtmosphere();
            
            // æ·»åŠ äº‘å±‚
            createCloudLayer();

            // åˆ›å»ºåœ°è½´ï¼ˆæ·»åŠ åˆ°tiltedGroupï¼Œä¸éšåœ°çƒè¡¨é¢è‡ªè½¬ï¼‰
            createEarthAxis();
            
            // åˆ›å»ºçº¬çº¿ï¼ˆæ·»åŠ åˆ°earthï¼Œéšåœ°çƒè¡¨é¢è‡ªè½¬ï¼‰
            createLatitudeLines();
            
            // åˆ›å»ºè‡ªè½¬æ–¹å‘æ ‡è®°ï¼ˆæ·»åŠ åˆ°earthï¼Œéšåœ°çƒè¡¨é¢è‡ªè½¬ï¼‰
            createRotationArrows();
        }

        // ============================================
        // åˆ›å»ºå¤§æ°”å±‚
        // ============================================
        function createAtmosphere() {
            const atmosphereGeometry = new THREE.SphereGeometry(5.15, 64, 64);
            const atmosphereMaterial = new THREE.MeshBasicMaterial({
                color: 0x4da6ff,
                transparent: true,
                opacity: 0.12,
                side: THREE.BackSide,
                depthWrite: false
            });
            const atmosphere = new THREE.Mesh(atmosphereGeometry, atmosphereMaterial);
            // å¤§æ°”å±‚æ·»åŠ åˆ°tiltedGroupï¼ˆå›ºå®šï¼Œä¸è‡ªè½¬ï¼‰
            earthGroup.userData.tiltedGroup.add(atmosphere);
        }

        // ============================================
        // åˆ›å»ºäº‘å±‚
        // ============================================
        function createCloudLayer() {
            const textureLoader = new THREE.TextureLoader();
            const cloudTexture = textureLoader.load(
                'https://unpkg.com/three-globe@2.24.10/example/img/earth-clouds.png'
            );
            
            const cloudGeometry = new THREE.SphereGeometry(5.08, 64, 64);
            const cloudMaterial = new THREE.MeshPhongMaterial({
                map: cloudTexture,
                transparent: true,
                opacity: 0.35,
                depthWrite: false
            });
            
            const clouds = new THREE.Mesh(cloudGeometry, cloudMaterial);
            // äº‘å±‚æ·»åŠ åˆ°tiltedGroupï¼Œå•ç‹¬æ§åˆ¶è‡ªè½¬
            earthGroup.userData.tiltedGroup.add(clouds);
            earthGroup.userData.clouds = clouds;
        }

        // ============================================
        // åˆ›å»ºåœ°è½´
        // ============================================
        function createEarthAxis() {
            const axisLength = 9;
            const tiltedGroup = earthGroup.userData.tiltedGroup;
            
            // åœ°è½´ä¸»ä½“ - æ·»åŠ åˆ°tiltedGroupï¼Œä¸éšåœ°çƒè¡¨é¢è‡ªè½¬
            const axisGeometry = new THREE.CylinderGeometry(0.05, 0.05, axisLength * 2, 8);
            const axisMaterial = new THREE.MeshBasicMaterial({
                color: 0xffffff,
                transparent: true,
                opacity: 0.9
            });
            const axis = new THREE.Mesh(axisGeometry, axisMaterial);
            tiltedGroup.add(axis);

            // åŒ—æç‚¹ç®­å¤´
            const northArrowGeometry = new THREE.ConeGeometry(0.2, 0.5, 8);
            const northArrowMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff88 });
            const northArrow = new THREE.Mesh(northArrowGeometry, northArrowMaterial);
            northArrow.position.set(0, axisLength + 0.3, 0);
            tiltedGroup.add(northArrow);

            // å—æç‚¹æ ‡è®°
            const southPoleGeometry = new THREE.SphereGeometry(0.15, 16, 16);
            const southPoleMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff88 });
            const southPole = new THREE.Mesh(southPoleGeometry, southPoleMaterial);
            southPole.position.set(0, -axisLength, 0);
            tiltedGroup.add(southPole);

            // æ·»åŠ åŒ—ææ ‡ç­¾
            const northLabel = createAxisLabel('N (åŒ—)', 0x00ff88);
            northLabel.position.set(0.8, axisLength + 0.5, 0);
            tiltedGroup.add(northLabel);

            // æ·»åŠ å—ææ ‡ç­¾
            const southLabel = createAxisLabel('S (å—)', 0x00ff88);
            southLabel.position.set(0.8, -axisLength - 0.5, 0);
            tiltedGroup.add(southLabel);
        }

        function createAxisLabel(text, color) {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 128;
            canvas.height = 64;

            context.fillStyle = 'transparent';
            context.fillRect(0, 0, canvas.width, canvas.height);

            context.font = 'Bold 24px Arial';
            context.textAlign = 'center';
            context.fillStyle = '#' + color.toString(16).padStart(6, '0');
            context.fillText(text, canvas.width / 2, canvas.height / 2 + 8);

            const texture = new THREE.CanvasTexture(canvas);
            const material = new THREE.SpriteMaterial({
                map: texture,
                transparent: true
            });

            const sprite = new THREE.Sprite(material);
            sprite.scale.set(2, 1, 1);
            return sprite;
        }

        // ============================================
        // åˆ›å»ºçº¬çº¿
        // ============================================
        function createLatitudeLines() {
            // èµ¤é“
            createLatitudeLine(0, 0x44ff44, 2.5);
            
            // åŒ—å›å½’çº¿
            createLatitudeLine(OBLIQUITY, 0xff6633, 1.5);
            
            // å—å›å½’çº¿
            createLatitudeLine(-OBLIQUITY, 0x33bbff, 1.5);
            
            // 30åº¦çº¬çº¿
            createLatitudeLine(30, 0xaaaaaa, 1);
            createLatitudeLine(-30, 0xaaaaaa, 1);
            
            // 60åº¦çº¬çº¿
            createLatitudeLine(60, 0xaaaaaa, 1);
            createLatitudeLine(-60, 0xaaaaaa, 1);
            
            // åŒ—æåœˆ
            createLatitudeLine(66.5, 0x8888ff, 1.2);
            
            // å—æåœˆ
            createLatitudeLine(-66.5, 0x8888ff, 1.2);
        }

        function createLatitudeLine(latitude, color, thickness = 1) {
            const latRad = latitude * Math.PI / 180;
            const radius = 5.05 * Math.cos(latRad);
            const y = 5.05 * Math.sin(latRad);

            const segments = 64;
            const points = [];
            
            for (let i = 0; i <= segments; i++) {
                const theta = (i / segments) * Math.PI * 2;
                points.push(new THREE.Vector3(
                    radius * Math.cos(theta),
                    y,
                    radius * Math.sin(theta)
                ));
            }

            const curve = new THREE.CatmullRomCurve3(points, true);
            const tubeRadius = 0.02 * thickness;
            const tubeGeometry = new THREE.TubeGeometry(curve, 64, tubeRadius, 8, true);
            const tubeMaterial = new THREE.MeshBasicMaterial({
                color: color,
                transparent: true,
                opacity: 0.85
            });
            
            const tube = new THREE.Mesh(tubeGeometry, tubeMaterial);
            earth.add(tube);
        }

        // ============================================
        // åˆ›å»ºè‡ªè½¬æ–¹å‘æ ‡è®°
        // ============================================
        function createRotationArrows() {
            // åˆ›å»ºä¸œè¥¿æ–¹å‘æ ‡è®°ï¼ˆè·Ÿéšåœ°çƒè‡ªè½¬ï¼‰
            createDirectionMarkers();
        }
        
        // ============================================
        // åˆ›å»ºä¸œè¥¿å—åŒ—æ–¹å‘æ ‡è®°
        // ============================================
        function createDirectionMarkers() {
            // åœ¨åœ°çƒè¡¨é¢åˆ›å»ºé†’ç›®çš„æ–¹å‘æ ‡è®°ç‚¹
            const markerRadius = 5.1;
            
            // åˆ›å»ºä¸€ä¸ªçº¢è‰²çš„æ ‡è®°ç‚¹ï¼ˆä»£è¡¨ä¸€ä¸ªå›ºå®šä½ç½®ï¼‰
            const markerGeometry = new THREE.SphereGeometry(0.25, 16, 16);
            const markerMaterial = new THREE.MeshBasicMaterial({ color: 0xff3333 });
            const marker = new THREE.Mesh(markerGeometry, markerMaterial);
            marker.position.set(markerRadius, 0, 0);
            earth.add(marker);
            
            // æ ‡è®°ç‚¹å‘å…‰æ•ˆæœ
            const glowGeometry = new THREE.SphereGeometry(0.35, 16, 16);
            const glowMaterial = new THREE.MeshBasicMaterial({
                color: 0xff6666,
                transparent: true,
                opacity: 0.5
            });
            const glow = new THREE.Mesh(glowGeometry, glowMaterial);
            marker.add(glow);
            
            // æ·»åŠ æ‹–å°¾æ•ˆæœï¼ˆæ˜¾ç¤ºè¿åŠ¨æ–¹å‘ï¼‰
            createMotionTrail(markerRadius);
            
            // åœ¨åœ°çƒè¡¨é¢æ·»åŠ ä¸œè¥¿æ ‡ç­¾
            createEWLabels();
        }
        
        // ============================================
        // åˆ›å»ºè¿åŠ¨æ‹–å°¾æ•ˆæœ
        // ============================================
        function createMotionTrail(radius) {
            // åˆ›å»ºå¤šä¸ªé€æ¸æ¶ˆå¤±çš„ç‚¹ï¼Œå½¢æˆæ‹–å°¾æ•ˆæœ
            const trailCount = 8;
            for (let i = 1; i <= trailCount; i++) {
                const angle = -i * 0.15; // åœ¨çº¢ç‚¹åé¢
                const opacity = 1 - (i / trailCount);
                const size = 0.2 - (i * 0.015);
                
                const trailGeometry = new THREE.SphereGeometry(size, 8, 8);
                const trailMaterial = new THREE.MeshBasicMaterial({
                    color: 0xff6666,
                    transparent: true,
                    opacity: opacity * 0.7
                });
                const trail = new THREE.Mesh(trailGeometry, trailMaterial);
                trail.position.set(
                    radius * Math.cos(angle),
                    0,
                    radius * Math.sin(angle)
                );
                earth.add(trail);
            }
        }
        
        // ============================================
        // åˆ›å»ºä¸œè¥¿æ–¹å‘æ ‡ç­¾
        // ============================================
        function createEWLabels() {
            // ä¸œè¥¿æ–¹å‘è¯´æ˜ï¼š
            // åœ°çƒç»•Yè½´è‡ªè½¬ï¼ˆearth.rotation.y å¢åŠ ï¼‰
            // ä»åŒ—æä¸Šç©ºçœ‹ï¼ˆYè½´æ­£æ–¹å‘å¾€ä¸‹çœ‹ï¼‰ï¼Œé€†æ—¶é’ˆæ—‹è½¬
            // åœ¨XZå¹³é¢ä¸Šï¼Œé€†æ—¶é’ˆæ–¹å‘ï¼š+X â†’ -Z â†’ -X â†’ +Z â†’ +X
            // æ‰€ä»¥åœ°çƒè¡¨é¢ä¸Šçš„ç‚¹å‘ rotation.y å¢åŠ çš„æ–¹å‘ç§»åŠ¨
            // 
            // å¯¹äºè§‚å¯Ÿè€…æ¥è¯´ï¼Œå¦‚æœçœ‹åˆ°åœ°çƒæŸç‚¹å‘å³ç§»åŠ¨ï¼Œé‚£ä¸ªæ–¹å‘å°±æ˜¯ä¸œ
            // æˆ‘ä»¬æŠŠæ ‡ç­¾æ”¾åœ¨åœºæ™¯ä¸­ä½œä¸ºå‚è€ƒï¼Œä½†è¦è¯´æ˜è¿™æ˜¯ç›¸å¯¹äºè§‚å¯Ÿè§†è§’çš„
            
            // è‡ªè½¬æ–¹å‘è¯´æ˜å·²ç§»è‡³é¡µé¢å·¦ä¸Šè§’HTMLå…ƒç´ 
        }

        // ============================================
        // åˆ›å»ºè‡ªè½¬æ–¹å‘æŒ‡ç¤ºå™¨ï¼ˆå¤šè§’åº¦ï¼‰
        // ============================================
        function createRotationIndicators() {
            // è¿™é‡Œå¯ä»¥æ·»åŠ æ›´å¤šçš„è§†è§’æŒ‡ç¤ºå™¨
        }

        // ============================================
        // åˆ›å»ºåŒ—ææ˜Ÿ
        // ============================================
        function createPolarStar() {
            // åŒ—ææ˜Ÿä½ç½®ï¼ˆåœ°è½´å»¶é•¿æ–¹å‘ï¼‰
            // tiltedGroup.rotation.z = -OBLIQUITY_RADï¼ˆè´Ÿå€¼ï¼‰= é¡ºæ—¶é’ˆæ—‹è½¬
            // åœ°è½´ä»Yè½´æ­£æ–¹å‘é¡ºæ—¶é’ˆæ—‹è½¬23.5Â°ï¼ŒæŒ‡å‘å³ä¸Šè§’ï¼ˆåƒåœ°çƒä»ªä¸€æ ·ï¼‰
            // æ‰€ä»¥åŒ—ææ˜Ÿåº”è¯¥åœ¨å³ä¸Šè§’ï¼ŒXä¸ºæ­£å€¼
            const distance = 50;
            const x = distance * Math.sin(OBLIQUITY_RAD);   // æ­£å€¼ï¼ŒæŒ‡å‘å³è¾¹
            const y = distance * Math.cos(OBLIQUITY_RAD);
            const z = 0;

            const starGeometry = new THREE.SphereGeometry(1, 16, 16);
            const starMaterial = new THREE.MeshBasicMaterial({ color: 0xffffcc });
            polarStar = new THREE.Mesh(starGeometry, starMaterial);
            polarStar.position.set(x, y, z);
            scene.add(polarStar);

            // å‘å…‰æ•ˆæœ
            const glowGeometry = new THREE.SphereGeometry(1.5, 16, 16);
            const glowMaterial = new THREE.MeshBasicMaterial({
                color: 0xffffcc,
                transparent: true,
                opacity: 0.3
            });
            const glow = new THREE.Mesh(glowGeometry, glowMaterial);
            polarStar.add(glow);

            // æ˜ŸèŠ’
            createStarSpikes(polarStar);

            // æ ‡ç­¾ï¼ˆæ”¾åœ¨å³è¾¹ï¼‰
            addTextSprite('â­ åŒ—ææ˜Ÿ', new THREE.Vector3(x + 4, y + 1, z), 0xffffcc, 0.8);
            addTextSprite('(åœ°è½´å§‹ç»ˆæŒ‡å‘è¿™é‡Œ)', new THREE.Vector3(x + 4, y - 2, z), 0xaaaaaa, 0.5);
            
            // æ·»åŠ ä»åœ°è½´åŒ—ç«¯åˆ°åŒ—ææ˜Ÿçš„å»¶é•¿è™šçº¿
            createAxisExtensionLine(x, y, z);
        }
        
        // åˆ›å»ºåœ°è½´å»¶é•¿çº¿ï¼ˆä»åœ°è½´é¡¶ç«¯åˆ°åŒ—ææ˜Ÿï¼‰
        function createAxisExtensionLine(starX, starY, starZ) {
            // åœ°è½´é¡¶ç«¯ä½ç½®ï¼šä¸åŒ—ææ˜ŸåŒæ–¹å‘ï¼ŒXä¸ºæ­£å€¼
            const axisLength = 9;
            const startX = axisLength * Math.sin(OBLIQUITY_RAD);
            const startY = axisLength * Math.cos(OBLIQUITY_RAD);
            
            const points = [
                new THREE.Vector3(startX, startY, 0),
                new THREE.Vector3(starX, starY, starZ)
            ];
            
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineDashedMaterial({
                color: 0xffffff,
                dashSize: 1,
                gapSize: 0.8,
                transparent: true,
                opacity: 0.4
            });
            
            const line = new THREE.Line(geometry, material);
            line.computeLineDistances();
            scene.add(line);
        }

        function createStarSpikes(star) {
            const spikeCount = 4;
            const spikeLength = 2.5;
            
            for (let i = 0; i < spikeCount; i++) {
                const angle = (i / spikeCount) * Math.PI;
                const geometry = new THREE.BufferGeometry();
                const positions = new Float32Array([
                    -spikeLength * Math.cos(angle), -spikeLength * Math.sin(angle), 0,
                    spikeLength * Math.cos(angle), spikeLength * Math.sin(angle), 0
                ]);
                geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                
                const material = new THREE.LineBasicMaterial({
                    color: 0xffffcc,
                    transparent: true,
                    opacity: 0.5
                });
                
                const spike = new THREE.Line(geometry, material);
                star.add(spike);
            }
        }



        // ============================================
        // æ·»åŠ æ–‡å­—æ ‡ç­¾
        // ============================================
        function addTextSprite(text, position, color, scale = 0.6) {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256;
            canvas.height = 64;

            context.fillStyle = 'transparent';
            context.fillRect(0, 0, canvas.width, canvas.height);

            context.font = 'Bold 28px Microsoft YaHei, Arial';
            context.textAlign = 'center';
            context.fillStyle = '#' + color.toString(16).padStart(6, '0');
            context.fillText(text, canvas.width / 2, canvas.height / 2 + 10);

            const texture = new THREE.CanvasTexture(canvas);
            const material = new THREE.SpriteMaterial({
                map: texture,
                transparent: true
            });

            const sprite = new THREE.Sprite(material);
            sprite.position.copy(position);
            sprite.scale.set(4 * scale, 1 * scale, 1);
            scene.add(sprite);
        }

        // ============================================
        // åˆ‡æ¢ç›¸æœºè§†è§’
        // ============================================
        function switchView(viewName) {
            currentView = viewName;
            const viewData = cameraPositions[viewName];
            
            // åŠ¨ç”»è¿‡æ¸¡åˆ°æ–°ä½ç½®
            animateCameraTo(viewData.pos, viewData.lookAt);
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.view === viewName) {
                    btn.classList.add('active');
                }
            });
        }

        function animateCameraTo(targetPos, targetLookAt) {
            const startPos = camera.position.clone();
            const endPos = new THREE.Vector3(targetPos[0], targetPos[1], targetPos[2]);
            const duration = 1000;
            const startTime = Date.now();

            function animateCamera() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // ä½¿ç”¨ easeInOutCubic ç¼“åŠ¨
                const eased = progress < 0.5
                    ? 4 * progress * progress * progress
                    : 1 - Math.pow(-2 * progress + 2, 3) / 2;

                camera.position.lerpVectors(startPos, endPos, eased);
                camera.lookAt(targetLookAt[0], targetLookAt[1], targetLookAt[2]);

                if (progress < 1) {
                    requestAnimationFrame(animateCamera);
                }
            }

            animateCamera();
        }

        // ============================================
        // åŠ¨ç”»å¾ªç¯
        // ============================================
        function animate() {
            requestAnimationFrame(animate);

            if (!isPaused) {
                // è®¡ç®—è‡ªè½¬é€Ÿåº¦
                // æ’æ˜Ÿæ—¥æ¯”å¤ªé˜³æ—¥å¿«çº¦ 1/365
                const rotationMultiplier = timeType === 'sidereal' ? 1.00274 : 1;
                
                // åœ°çƒè¡¨é¢è‡ªè½¬
                earth.rotation.y += 0.01 * animationSpeed * rotationMultiplier;
                
                // äº‘å±‚ç•¥æ…¢è‡ªè½¬
                if (earthGroup.userData.clouds) {
                    earthGroup.userData.clouds.rotation.y += 0.008 * animationSpeed * rotationMultiplier;
                }
            }

            renderer.render(scene, camera);
        }

        // ============================================
        // çª—å£å¤§å°è°ƒæ•´
        // ============================================
        function onWindowResize() {
            const container = document.getElementById('canvas-container');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        }

        // ============================================
        // äº‹ä»¶å¤„ç†
        // ============================================
        function setupEventListeners() {
            // è§†è§’åˆ‡æ¢æŒ‰é’®
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    switchView(this.dataset.view);
                });
            });

            // é€Ÿåº¦æ»‘å—
            document.getElementById('speed-slider').addEventListener('input', function() {
                const value = parseInt(this.value);
                animationSpeed = value / 50; // 0-2 èŒƒå›´
                document.getElementById('speed-value').textContent = `${animationSpeed.toFixed(1)}x`;
            });

            // æš‚åœæŒ‰é’®
            document.getElementById('pause-btn').addEventListener('click', function() {
                isPaused = !isPaused;
                this.textContent = isPaused ? 'æ’­æ”¾' : 'æš‚åœ';
            });

            // é€Ÿåº¦é¢„è®¾æŒ‰é’®
            document.getElementById('slow-btn').addEventListener('click', function() {
                animationSpeed = 0.3;
                isPaused = false;
                document.getElementById('pause-btn').textContent = 'æš‚åœ';
                document.getElementById('speed-slider').value = 15;
                document.getElementById('speed-value').textContent = '0.3x';
                updateSpeedButtons(this);
            });

            document.getElementById('normal-btn').addEventListener('click', function() {
                animationSpeed = 1;
                isPaused = false;
                document.getElementById('pause-btn').textContent = 'æš‚åœ';
                document.getElementById('speed-slider').value = 50;
                document.getElementById('speed-value').textContent = '1x';
                updateSpeedButtons(this);
            });

            document.getElementById('fast-btn').addEventListener('click', function() {
                animationSpeed = 3;
                isPaused = false;
                document.getElementById('pause-btn').textContent = 'æš‚åœ';
                document.getElementById('speed-slider').value = 100;
                document.getElementById('speed-value').textContent = '3x';
                updateSpeedButtons(this);
            });

        }

        function updateSpeedButtons(activeBtn) {
            document.querySelectorAll('.speed-btns button:not(#pause-btn)').forEach(btn => {
                btn.classList.remove('active');
            });
            activeBtn.classList.add('active');
        }

        // ============================================
        // çŸ¥è¯†ç‚¹å¼¹çª— - å¡ç‰‡æ»‘åŠ¨åŠŸèƒ½
        // ============================================
        let currentCardIndex = 0;
        const totalCards = 7;
        
        function showKnowledgeModal() {
            document.getElementById('knowledge-modal').classList.add('visible');
            currentCardIndex = 0;
            updateCardDisplay();
            initCardIndicator();
        }
        
        function hideKnowledgeModal() {
            document.getElementById('knowledge-modal').classList.remove('visible');
        }
        
        function initCardIndicator() {
            const indicator = document.getElementById('card-indicator');
            indicator.innerHTML = '';
            for (let i = 0; i < totalCards; i++) {
                const dot = document.createElement('div');
                dot.className = 'card-dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => goToCard(i);
                indicator.appendChild(dot);
            }
        }
        
        function updateCardDisplay() {
            const wrapper = document.getElementById('card-wrapper');
            wrapper.style.transform = `translateX(-${currentCardIndex * 100}%)`;
            
            // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
            document.getElementById('prev-card').disabled = currentCardIndex === 0;
            document.getElementById('next-card').disabled = currentCardIndex === totalCards - 1;
            
            // æ›´æ–°æŒ‡ç¤ºå™¨
            const dots = document.querySelectorAll('.card-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentCardIndex);
            });
        }
        
        function prevCard() {
            if (currentCardIndex > 0) {
                currentCardIndex--;
                updateCardDisplay();
            }
        }
        
        function nextCard() {
            if (currentCardIndex < totalCards - 1) {
                currentCardIndex++;
                updateCardDisplay();
            }
        }
        
        function goToCard(index) {
            currentCardIndex = index;
            updateCardDisplay();
        }
        
        // æ”¯æŒé”®ç›˜å·¦å³ç®­å¤´åˆ‡æ¢
        document.addEventListener('keydown', function(e) {
            const modal = document.getElementById('knowledge-modal');
            if (modal.classList.contains('visible')) {
                if (e.key === 'ArrowLeft') {
                    prevCard();
                } else if (e.key === 'ArrowRight') {
                    nextCard();
                } else if (e.key === 'Escape') {
                    hideKnowledgeModal();
                }
            }
        });
        
        // æ”¯æŒè§¦æ‘¸æ»‘åŠ¨
        let touchStartX = 0;
        let touchEndX = 0;
        
        document.getElementById('knowledge-modal').addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });
        
        document.getElementById('knowledge-modal').addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, { passive: true });
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // å‘å·¦æ»‘åŠ¨ -> ä¸‹ä¸€å¼ 
                    nextCard();
                } else {
                    // å‘å³æ»‘åŠ¨ -> ä¸Šä¸€å¼ 
                    prevCard();
                }
            }
        }
        
        // ç‚¹å‡»å¼¹çª—èƒŒæ™¯å…³é—­
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('knowledge-modal');
            if (e.target === modal) {
                hideKnowledgeModal();
            }
        });

        // ============================================
        // å¯åŠ¨ç¨‹åº
        // ============================================
        window.addEventListener('DOMContentLoaded', () => {
            init();
        });
    </script>
</body>
</html>
