<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»„ä»¶åº“å®Œæ•´å±•ç¤º - UI + Three.jsåœºæ™¯ç»„ä»¶</title>
    
    <link rel="stylesheet" href="./styles/ui-components.css">
    
    <style>
        /* è¦†ç›– ui-components.css ä¸­çš„å›ºå®šæ ·å¼ï¼Œå…è®¸æ»šåŠ¨ */
        html, body {
            overflow: visible !important;
            overflow-y: auto !important;
            position: static !important;
            height: auto !important;
        }
        
        body {
            margin: 0;
            padding: 0;
            background: #0a0a0a;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            min-height: 100vh;
        }
        
        .container {
            overflow: visible !important;
            height: auto !important;
        }
        
        .demo-header {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #64b4ff;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .demo-header h1 {
            margin: 0;
            font-size: 1.8rem;
            color: #ffd54f;
        }
        
        /* Tabåˆ‡æ¢ */
        .tab-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            position: sticky;
            top: 68px;
            z-index: 99;
        }
        
        .tab-btn {
            padding: 12px 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #aaa;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
        }
        
        .tab-btn.active {
            background: linear-gradient(135deg, #64b4ff, #4a9eff);
            color: #fff;
            border-color: #64b4ff;
            box-shadow: 0 4px 15px rgba(100, 180, 255, 0.3);
        }
        
        /* æ¼”ç¤ºåŒºåŸŸ */
        .demo-container {
            display: none;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .demo-container.active {
            display: block;
        }
        
        /* ç»„ä»¶è¡¨æ ¼ */
        .component-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 15px;
        }
        
        .component-row {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .component-row td {
            padding: 20px;
            vertical-align: top;
        }
        
        .component-demo {
            width: 35%;
            border-right: 2px solid rgba(100, 180, 255, 0.2);
            position: relative;
            min-height: 200px;
            max-height: 250px;
        }
        
        .component-info {
            width: 65%;
        }
        
        .component-title {
            font-size: 1.3rem;
            color: #64b4ff;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .component-title .badge {
            background: #4fc3f7;
            color: #000;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .component-desc {
            color: #aaa;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .code-block {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            overflow-x: auto;
        }
        
        .code-block pre {
            margin: 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.85rem;
            color: #a9dc76;
        }
        
        .code-label {
            color: #ffd54f;
            font-size: 0.85rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        /* æ¼”ç¤ºå®¹å™¨ */
        .demo-preview {
            position: relative;
            height: 100%;
            min-height: 180px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            overflow: hidden;
        }
        
        /* è®©ç»„ä»¶åœ¨æ¼”ç¤ºåŒºå†…æ­£ç¡®æ˜¾ç¤º */
        .demo-preview > * {
            position: relative !important;
            transform: scale(0.75);
            transform-origin: center center;
            max-width: 100%;
        }
        
        /* ç‰¹æ®Šå¤„ç†æŒ‰é’® - å¼ºåˆ¶å±…ä¸­ */
        .demo-preview .home-btn,
        .demo-preview .help-btn {
            position: relative !important;
            top: 0 !important;
            left: 0 !important;
            bottom: auto !important;
            right: auto !important;
            transform: none !important;
            display: block !important;
            margin: auto !important;
        }
        
        /* é¢æ¿åœ¨æ¼”ç¤ºåŒºçš„æ ·å¼è°ƒæ•´ - ç»Ÿä¸€å°ºå¯¸ */
        .demo-preview .info-panel,
        .demo-preview .legend-panel,
        .demo-preview .control-panel {
            position: relative !important;
            top: auto !important;
            left: auto !important;
            bottom: auto !important;
            right: auto !important;
            margin: 0 auto !important;
            max-width: 95%;
            transform: scale(0.8) !important;
        }
        
        /* åº•éƒ¨æŒ‰é’®æ ç‰¹æ®Šå¤„ç† */
        .demo-preview .bottom-btn-bar {
            position: relative !important;
            top: auto !important;
            left: auto !important;
            bottom: auto !important;
            right: auto !important;
            margin: 0 !important;
            width: 100%;
            transform: scale(0.7) !important;
        }
        
        .demo-note-inline {
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            color: #666;
            white-space: nowrap;
        }
        
        /* Three.js åœºæ™¯æ¼”ç¤º */
        .scene-demo-container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto 30px auto;
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            height: 500px;
        }
        
        #three-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        .scene-components-grid {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .scene-info-overlay h3 {
            margin: 0 0 10px 0;
            color: #64b4ff;
            font-size: 1rem;
        }
        
        .scene-info-overlay ul {
            margin: 0;
            padding-left: 20px;
            font-size: 0.85rem;
            color: #aaa;
        }
        
        .scene-info-overlay li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="demo-header">
        <h1>ğŸ¨ åœ°ç†æ•™å­¦åŠ¨ç”»ç»„ä»¶åº“ - å®Œæ•´å±•ç¤º</h1>
    </div>
    
    <div class="tab-buttons">
        <button class="tab-btn active" data-view="ui-demo">ğŸ¨ UIç»„ä»¶åº“</button>
        <button class="tab-btn" data-view="scene-demo">ğŸŒ Three.jsåœºæ™¯ç»„ä»¶åº“</button>
    </div>
    
    <!-- UIç»„ä»¶æ¼”ç¤º -->
    <div id="ui-demo" class="demo-container active">
        <table class="component-table">
            <!-- è¿”å›ä¸»é¡µæŒ‰é’® -->
            <tr class="component-row">
                <td class="component-demo">
                    <div class="demo-preview" id="demo-home-btn">
                    </div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ  è¿”å›ä¸»é¡µæŒ‰é’®</span>
                        <span class="badge">createHomeButton</span>
                    </div>
                    <div class="component-desc">
                        å›ºå®šåœ¨é¡µé¢å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’®ï¼Œç‚¹å‡»è¿”å›åˆ°ä¸»é¡µã€‚æ”¯æŒè‡ªå®šä¹‰é“¾æ¥åœ°å€ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const homeBtn = GeoUIComponents.createHomeButton('../index.html');
document.body.appendChild(homeBtn);</pre>
                    </div>
                </td>
            </tr>
            
            <!-- å¸®åŠ©æŒ‰é’® -->
            <tr class="component-row">
                <td class="component-demo">
                    <div class="demo-preview" id="demo-help-btn">
                    </div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>â“ å¸®åŠ©æŒ‰é’®</span>
                        <span class="badge">createHelpButton</span>
                    </div>
                    <div class="component-desc">
                        å›ºå®šåœ¨é¡µé¢å·¦ä¸‹è§’çš„å¸®åŠ©æŒ‰é’®ï¼Œç‚¹å‡»å¯è§¦å‘è‡ªå®šä¹‰å›è°ƒå‡½æ•°ï¼ˆé€šå¸¸ç”¨äºæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯æˆ–çŸ¥è¯†ç‚¹å¼¹çª—ï¼‰ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const helpBtn = GeoUIComponents.createHelpButton(() => {
    GeoKnowledgeModal.show();  // æ˜¾ç¤ºçŸ¥è¯†ç‚¹å¼¹çª—
});
document.body.appendChild(helpBtn);</pre>
                    </div>
                </td>
            </tr>
            
            <!-- ä¿¡æ¯é¢æ¿ -->
            <tr class="component-row">
                <td class="component-demo">
                    <div class="demo-preview" id="demo-info-panel"></div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ“Š ä¿¡æ¯é¢æ¿</span>
                        <span class="badge">createInfoPanel</span>
                    </div>
                    <div class="component-desc">
                        æ˜¾ç¤ºå½“å‰çŠ¶æ€ä¿¡æ¯çš„é¢æ¿ï¼Œæ”¯æŒè‡ªå®šä¹‰æ ‡é¢˜ã€ä½ç½®å’Œå†…å®¹ã€‚å¯åŠ¨æ€æ›´æ–°å†…éƒ¨å†…å®¹ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const infoPanel = GeoUIComponents.createInfoPanel({
    id: 'info-panel',
    title: 'ğŸ“Š å½“å‰ä¿¡æ¯',
    position: 'top-left'
});

// æ·»åŠ å†…å®¹
const content = document.getElementById('info-panel-content');
content.innerHTML = `
    &lt;div&gt;å­£èŠ‚ï¼šæ˜¥åˆ†&lt;/div&gt;
    &lt;div&gt;ç›´å°„ç‚¹ï¼šèµ¤é“ (0Â°)&lt;/div&gt;
`;

container.appendChild(infoPanel);</pre>
                    </div>
                </td>
            </tr>
            
            <!-- å›¾ä¾‹é¢æ¿ -->
            <tr class="component-row">
                <td class="component-demo">
                    <div class="demo-preview" id="demo-legend-panel"></div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ¨ å›¾ä¾‹é¢æ¿</span>
                        <span class="badge">createLegendPanel</span>
                    </div>
                    <div class="component-desc">
                        æ˜¾ç¤ºé¢œè‰²å›¾ä¾‹çš„é¢æ¿ï¼Œç”¨äºè§£é‡Šåœºæ™¯ä¸­ä¸åŒé¢œè‰²çš„å«ä¹‰ã€‚æ”¯æŒä¼ å…¥å›¾ä¾‹æ•°ç»„ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const legends = [
    { color: '#66bb6a', label: 'èµ¤é“ (0Â°)' },
    { color: '#ff7043', label: 'åŒ—å›å½’çº¿ (23.5Â°N)' },
    { color: '#4fc3f7', label: 'å—å›å½’çº¿ (23.5Â°S)' }
];

const legendPanel = GeoUIComponents.createLegendPanel(legends);
container.appendChild(legendPanel);</pre>
                    </div>
                </td>
            </tr>
            
            <!-- æ§åˆ¶é¢æ¿ -->
            <tr class="component-row">
                <td class="component-demo">
                    <div class="demo-preview" id="demo-control-panel"></div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ® æ§åˆ¶é¢æ¿</span>
                        <span class="badge">createControlPanel</span>
                    </div>
                    <div class="component-desc">
                        åŠ¨ç”»æ§åˆ¶é¢æ¿ï¼ŒåŒ…å«æ»‘å—å’ŒæŒ‰é’®ç»„ã€‚æ”¯æŒè‡ªå®šä¹‰æ»‘å—å‚æ•°å’ŒæŒ‰é’®é…ç½®ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const controlPanel = GeoUIComponents.createControlPanel({
    title: 'â–¶ åŠ¨ç”»æ§åˆ¶',
    sliders: [
        {
            id: 'orbit-slider',
            label: 'å…¬è½¬',
            min: 0,
            max: 360,
            value: 0,
            onChange: (e) => {
                console.log('è§’åº¦:', e.target.value);
            }
        }
    ],
    buttons: [
        { id: 'pause-btn', label: 'æš‚åœ', onClick: pause },
        { id: 'normal-btn', label: 'æ­£å¸¸', active: true, onClick: normal }
    ]
});

container.appendChild(controlPanel);</pre>
                    </div>
                </td>
            </tr>
            
            <!-- åº•éƒ¨æŒ‰é’®æ  -->
            <tr class="component-row">
                <td class="component-demo">
                    <div class="demo-preview" id="demo-bottom-bar"></div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ“± åº•éƒ¨æŒ‰é’®æ </span>
                        <span class="badge">createBottomButtonBar</span>
                    </div>
                    <div class="component-desc">
                        å›ºå®šåœ¨é¡µé¢åº•éƒ¨çš„æŒ‰é’®ç»„ï¼Œå¸¸ç”¨äºåœºæ™¯åˆ‡æ¢ï¼ˆå¦‚å­£èŠ‚é€‰æ‹©ï¼‰ã€‚æ”¯æŒé«˜äº®å½“å‰é€‰ä¸­é¡¹ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const buttons = [
    { label: 'ğŸŒ¸ æ˜¥åˆ†', value: '0', active: true, onClick: selectSeason },
    { label: 'â˜€ï¸ å¤è‡³', value: '90', onClick: selectSeason },
    { label: 'ğŸ‚ ç§‹åˆ†', value: '180', onClick: selectSeason },
    { label: 'â„ï¸ å†¬è‡³', value: '270', onClick: selectSeason }
];

const bottomBar = GeoUIComponents.createBottomButtonBar(buttons);
container.appendChild(bottomBar);</pre>
                    </div>
                </td>
            </tr>
            
            <!-- çŸ¥è¯†ç‚¹å¼¹çª— -->
            <tr class="component-row">
                <td class="component-demo">
                    <div class="demo-preview" style="padding: 20px; text-align: center;">
                        <button onclick="GeoKnowledgeModal.show()" style="padding: 10px 20px; background: #64b4ff; color: #fff; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem;">
                            ç‚¹å‡»æŸ¥çœ‹çŸ¥è¯†ç‚¹å¼¹çª—
                        </button>
                        <div class="demo-note-inline">ç‚¹å‡»æŒ‰é’®ä½“éªŒ</div>
                    </div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ“š çŸ¥è¯†ç‚¹å¼¹çª—</span>
                        <span class="badge">GeoKnowledgeModal</span>
                    </div>
                    <div class="component-desc">
                        çŸ¥è¯†ç‚¹å±•ç¤ºå¼¹çª—ï¼Œæ”¯æŒå¡ç‰‡è½®æ’­å’Œå¯¼èˆªç‚¹ã€‚å¯é…ç½®å¤šå¼ å¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡åŒ…å«å›¾æ ‡ã€æ ‡é¢˜å’Œå†…å®¹åˆ—è¡¨ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const cards = [
    {
        icon: 'ğŸŒ',
        title: 'ç»„ä»¶åŒ–è®¾è®¡',
        content: [
            '&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;ç»Ÿä¸€çš„è§†è§‰é£æ ¼',
            '&lt;strong&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;/strong&gt;ä¿®æ”¹ä¸€å¤„ï¼Œå…¨éƒ¨æ›´æ–°'
        ]
    },
    {
        icon: 'ğŸ’¡',
        title: 'ä½¿ç”¨å»ºè®®',
        highlight: true,
        content: ['æŸ¥çœ‹ README.md äº†è§£è¯¦ç»†API']
    }
];

const modal = GeoKnowledgeModal.createModal({
    title: 'ğŸ“š çŸ¥è¯†ç‚¹è¯´æ˜',
    cards: cards
});
document.body.appendChild(modal);

// æ˜¾ç¤º/éšè—
GeoKnowledgeModal.show();
GeoKnowledgeModal.hide();</pre>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    
    <!-- Three.jsåœºæ™¯ç»„ä»¶æ¼”ç¤º -->
    <div id="scene-demo" class="demo-container">
        <table class="component-table">
            <!-- åŸºç¡€åœºæ™¯ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">ğŸ¬</div>
                    <div style="color: #64b4ff; margin-top: 10px;">åŸºç¡€åœºæ™¯</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ¬ åŸºç¡€åœºæ™¯</span>
                        <span class="badge">createBasicScene</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºThree.jsçš„åŸºç¡€åœºæ™¯ï¼ŒåŒ…æ‹¬sceneã€cameraã€rendererå’Œå“åº”å¼çª—å£è°ƒæ•´ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>let scene, camera, renderer;

({ scene, camera, renderer } = GeoSceneComponents.createBasicScene({
    canvasId: 'three-canvas',
    fov: 45,
    cameraPosition: { x: 0, y: 10, z: 28 },
    lookAt: { x: 0, y: -3, z: 0 }
}));</pre>
                    </div>
                </td>
            </tr>
            
            <!-- åœ°çƒ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">ğŸŒ</div>
                    <div style="color: #64b4ff; margin-top: 10px;">åœ°çƒ</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸŒ åœ°çƒ</span>
                        <span class="badge">createEarth</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºåœ°çƒçƒä½“ï¼Œæ”¯æŒNASAçœŸå®çº¹ç†ã€å¤§æ°”å±‚ã€äº‘å±‚ç­‰æ•ˆæœã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>const earth = GeoSceneComponents.createEarth(parent, {
    radius: 2,
    obliquity: 23.5,
    useTexture: true,
    atmosphere: true,
    clouds: true
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- æ˜Ÿç©º -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">âœ¨</div>
                    <div style="color: #64b4ff; margin-top: 10px;">æ˜Ÿç©º</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>âœ¨ æ˜Ÿç©º</span>
                        <span class="badge">createStarfield</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºéšæœºåˆ†å¸ƒçš„æ˜Ÿç©ºèƒŒæ™¯ï¼Œæ”¯æŒè‡ªå®šä¹‰æ˜Ÿæ˜Ÿæ•°é‡ã€å¤§å°å’Œé¢œè‰²ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>GeoSceneComponents.createStarfield(scene, {
    count: 2000,
    size: 0.5,
    color: 0xffffff
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- å¤ªé˜³ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">â˜€ï¸</div>
                    <div style="color: #64b4ff; margin-top: 10px;">å¤ªé˜³</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>â˜€ï¸ å¤ªé˜³</span>
                        <span class="badge">createSun</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºå‘å…‰çš„å¤ªé˜³çƒä½“ï¼Œå¸¦æœ‰è‡ªå‘å…‰æ•ˆæœå’Œç‚¹å…‰æºã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>GeoSceneComponents.createSun(scene, {
    radius: 1.5,
    position: { x: -20, y: 0, z: 0 }
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- è½¨é“ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">â­•</div>
                    <div style="color: #64b4ff; margin-top: 10px;">è½¨é“</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>â­• è½¨é“</span>
                        <span class="badge">createOrbit</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºå…¬è½¬è½¨é“åœ†ç¯ï¼Œç”¨äºæ˜¾ç¤ºåœ°çƒç»•å¤ªé˜³çš„è¿åŠ¨è½¨è¿¹ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>GeoSceneComponents.createOrbit(scene, {
    radius: 15,
    color: 0x888888,
    opacity: 0.3
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- å¹³é¢ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">ğŸ“</div>
                    <div style="color: #64b4ff; margin-top: 10px;">å¹³é¢</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ“ å¹³é¢</span>
                        <span class="badge">createPlane</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºåœ†ç¯å½¢å¹³é¢ï¼ˆå¦‚é»„é“é¢ã€èµ¤é“é¢ï¼‰ï¼Œç”¨äºå±•ç¤ºå¤©æ–‡å‡ ä½•å…³ç³»ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>// é»„é“é¢
GeoSceneComponents.createPlane(scene, {
    innerRadius: 3.5,
    outerRadius: 17,
    color: 0xffcc66,
    opacity: 0.15,
    rotation: { x: Math.PI / 2, y: 0, z: 0 }
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- çº¬çº¿ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">ğŸŒ</div>
                    <div style="color: #64b4ff; margin-top: 10px;">çº¬çº¿</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸŒ çº¬çº¿</span>
                        <span class="badge">createLatitudeLine</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºåœ°çƒè¡¨é¢çš„çº¬çº¿åœˆï¼ˆå¦‚èµ¤é“ã€å›å½’çº¿ã€æåœˆï¼‰ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>// èµ¤é“
GeoSceneComponents.createLatitudeLine(earthGroup, {
    earthRadius: 2,
    latitude: 0,
    color: 0xff0000,
    lineWidth: 3
});

// åŒ—å›å½’çº¿
GeoSceneComponents.createLatitudeLine(earthGroup, {
    earthRadius: 2,
    latitude: 23.5,
    color: 0xffa500
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- åœ°è½´ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">ğŸ“</div>
                    <div style="color: #64b4ff; margin-top: 10px;">åœ°è½´</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸ“ åœ°è½´</span>
                        <span class="badge">createAxis</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºåœ°çƒè‡ªè½¬è½´ï¼Œç”¨äºå±•ç¤ºåœ°è½´å€¾æ–œã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>GeoSceneComponents.createAxis(earthGroup, {
    height: 6,
    color: 0xffffff
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- åŒ—ææ˜Ÿ -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">â­</div>
                    <div style="color: #64b4ff; margin-top: 10px;">åŒ—ææ˜Ÿ</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>â­ åŒ—ææ˜Ÿ</span>
                        <span class="badge">createPolarStar</span>
                    </div>
                    <div class="component-desc">
                        åˆ›å»ºåŒ—ææ˜ŸåŠå…¶æŒ‡ç¤ºçº¿ï¼Œç”¨äºæ¼”ç¤ºåœ°è½´æŒ‡å‘ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>GeoSceneComponents.createPolarStar(scene, {
    distance: 25,
    size: 0.8
});</pre>
                    </div>
                </td>
            </tr>
            
            <!-- å­£èŠ‚æ ‡è®° -->
            <tr class="component-row">
                <td class="component-demo" style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem;">ğŸŒ¸â˜€ï¸ğŸ‚â„ï¸</div>
                    <div style="color: #64b4ff; margin-top: 10px;">å­£èŠ‚æ ‡è®°</div>
                </td>
                <td class="component-info">
                    <div class="component-title">
                        <span>ğŸŒ¸ å­£èŠ‚æ ‡è®°</span>
                        <span class="badge">createSeasonMarkers</span>
                    </div>
                    <div class="component-desc">
                        åœ¨è½¨é“ä¸Šåˆ›å»ºæ˜¥åˆ†ã€å¤è‡³ã€ç§‹åˆ†ã€å†¬è‡³å››ä¸ªå­£èŠ‚æ ‡è®°ç‚¹ã€‚
                    </div>
                    <div class="code-label">ğŸ“ ä½¿ç”¨æ–¹æ³•ï¼š</div>
                    <div class="code-block">
                        <pre>GeoSceneComponents.createSeasonMarkers(scene, {
    orbitRadius: 15
});</pre>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    
    <!-- Three.js åº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script src="./js/ui-components.js"></script>
    <script src="./js/knowledge-modal.js"></script>
    <script src="./js/scene-components.js"></script>
    
    <script>
        // Tabåˆ‡æ¢
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const viewName = this.dataset.view;
                
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                document.querySelectorAll('.demo-container').forEach(v => v.classList.remove('active'));
                document.getElementById(viewName).classList.add('active');
                
                if (viewName === 'scene-demo' && !window.sceneInitialized) {
                    initThreeJSDemo();
                    window.sceneInitialized = true;
                }
            });
        });
        
        // åˆå§‹åŒ–UIç»„ä»¶
        function initUIComponents() {
            // è¿”å›æŒ‰é’®å’Œå¸®åŠ©æŒ‰é’® - æ·»åŠ åˆ°bodyç”¨äºå®é™…åŠŸèƒ½
            document.body.appendChild(GeoUIComponents.createHomeButton('../index.html'));
            document.body.appendChild(GeoUIComponents.createHelpButton(() => GeoKnowledgeModal.show()));
            
            // åŒæ—¶åœ¨æ¼”ç¤ºåŒºåˆ›å»ºç¼©å°ç‰ˆï¼ˆç§»é™¤æ–‡å­—ï¼‰
            const homeBtnDemo = GeoUIComponents.createHomeButton('#');
            homeBtnDemo.innerHTML = 'ğŸ '; // åªä¿ç•™å›¾æ ‡
            homeBtnDemo.onclick = (e) => e.preventDefault();
            document.getElementById('demo-home-btn').appendChild(homeBtnDemo);
            
            const helpBtnDemo = GeoUIComponents.createHelpButton(() => {});
            helpBtnDemo.innerHTML = '?'; // åªä¿ç•™å›¾æ ‡
            document.getElementById('demo-help-btn').appendChild(helpBtnDemo);
            
            // ä¿¡æ¯é¢æ¿
            const infoPanel = GeoUIComponents.createInfoPanel({
                id: 'demo-info',
                title: 'ğŸ“Š ç¤ºä¾‹ä¿¡æ¯',
                position: 'top-left'
            });
            const content = document.getElementById('demo-info-content');
            if (content) {
                content.innerHTML = `
                    <div style="color: #ffd54f;">å­£èŠ‚ï¼šæ˜¥åˆ†</div>
                    <div style="color: #81d4fa;">ç›´å°„ç‚¹ï¼šèµ¤é“ (0Â°)</div>
                `;
            }
            document.getElementById('demo-info-panel').appendChild(infoPanel);
            
            // å›¾ä¾‹é¢æ¿
            const legends = [
                { color: '#66bb6a', label: 'èµ¤é“ (0Â°)' },
                { color: '#ff7043', label: 'åŒ—å›å½’çº¿ (23.5Â°N)' },
                { color: '#4fc3f7', label: 'å—å›å½’çº¿ (23.5Â°S)' }
            ];
            document.getElementById('demo-legend-panel').appendChild(
                GeoUIComponents.createLegendPanel(legends)
            );
            
            // æ§åˆ¶é¢æ¿
            const controlPanel = GeoUIComponents.createControlPanel({
                title: 'â–¶ åŠ¨ç”»æ§åˆ¶',
                sliders: [{ id: 'demo-slider', label: 'å…¬è½¬è§’åº¦', min: 0, max: 360, value: 0 }],
                buttons: [
                    { id: 'demo-pause', label: 'æš‚åœ' },
                    { id: 'demo-normal', label: 'æ­£å¸¸', active: true },
                    { id: 'demo-fast', label: 'å¿«é€Ÿ' }
                ]
            });
            document.getElementById('demo-control-panel').appendChild(controlPanel);
            
            // åº•éƒ¨æŒ‰é’®æ 
            const seasonButtons = [
                { label: 'ğŸŒ¸ æ˜¥åˆ†', value: '0', active: true },
                { label: 'â˜€ï¸ å¤è‡³', value: '90' },
                { label: 'ğŸ‚ ç§‹åˆ†', value: '180' },
                { label: 'â„ï¸ å†¬è‡³', value: '270' }
            ];
            document.getElementById('demo-bottom-bar').appendChild(
                GeoUIComponents.createBottomButtonBar(seasonButtons)
            );
            
            // çŸ¥è¯†ç‚¹å¼¹çª—
            const modal = GeoKnowledgeModal.createModal({
                title: 'ğŸ“š UIç»„ä»¶åº“ä½¿ç”¨è¯´æ˜',
                cards: [
                    {
                        icon: 'ğŸ¨',
                        title: 'UIç»„ä»¶åº“',
                        content: [
                            '<strong>ç»Ÿä¸€é£æ ¼ï¼š</strong>æ‰€æœ‰é¡µé¢ä½¿ç”¨ç›¸åŒçš„UIè®¾è®¡',
                            '<strong>å¿«é€Ÿå¼€å‘ï¼š</strong>é€šè¿‡APIå¿«é€Ÿåˆ›å»ºUIå…ƒç´ ',
                            '<strong>æ˜“äºç»´æŠ¤ï¼š</strong>ç»„ä»¶åŒ–æ¶æ„ï¼Œä¿®æ”¹æ–¹ä¾¿'
                        ]
                    },
                    {
                        icon: 'ğŸ“¦',
                        title: 'ç»„ä»¶åˆ—è¡¨',
                        content: [
                            'âœ… è¿”å›ä¸»é¡µæŒ‰é’® (createHomeButton)',
                            'âœ… å¸®åŠ©æŒ‰é’® (createHelpButton)',
                            'âœ… ä¿¡æ¯é¢æ¿ (createInfoPanel)',
                            'âœ… å›¾ä¾‹é¢æ¿ (createLegendPanel)',
                            'âœ… æ§åˆ¶é¢æ¿ (createControlPanel)',
                            'âœ… åº•éƒ¨æŒ‰é’®æ  (createBottomButtonBar)',
                            'âœ… çŸ¥è¯†ç‚¹å¼¹çª— (GeoKnowledgeModal)'
                        ]
                    },
                    {
                        icon: 'ğŸ’¡',
                        title: 'ä½¿ç”¨å»ºè®®',
                        highlight: true,
                        content: [
                            'æŸ¥çœ‹ common/README.md äº†è§£å®Œæ•´API',
                            'å‚è€ƒ example-full.html æŸ¥çœ‹å®Œæ•´ç¤ºä¾‹',
                            'éµå¾ªç»Ÿä¸€çš„å‘½åè§„èŒƒ'
                        ]
                    }
                ]
            });
            document.body.appendChild(modal);
            
            console.log('âœ… UIç»„ä»¶åˆå§‹åŒ–å®Œæˆ');
        }
        
        // åˆå§‹åŒ–Three.jsåœºæ™¯
        function initThreeJSDemo() {
            let scene, camera, renderer;
            ({ scene, camera, renderer } = GeoSceneComponents.createBasicScene({
                canvasId: 'three-canvas',
                fov: 45,
                cameraPosition: { x: 5, y: 5, z: 25 },
                lookAt: { x: 0, y: 0, z: 0 }
            }));
            
            GeoSceneComponents.createStarfield(scene, { count: 2000 });
            GeoSceneComponents.createSun(scene, { 
                radius: 1.5,
                position: { x: -18, y: 0, z: 0 }
            });
            
            const earthGroup = new THREE.Group();
            scene.add(earthGroup);
            
            const earth = GeoSceneComponents.createEarth(earthGroup, {
                radius: 2,
                obliquity: 23.5,
                useTexture: true,
                atmosphere: true,
                clouds: true
            });
            
            GeoSceneComponents.createEarthAxis(earth);
            GeoSceneComponents.createLatitudeLine(earth, 0, { color: 0x44ff44 });
            GeoSceneComponents.createLatitudeLine(earth, 23.5, { color: 0xff6633 });
            GeoSceneComponents.createLatitudeLine(earth, -23.5, { color: 0x33bbff });
            
            GeoSceneComponents.createOrbit(scene, { radius: 15 });
            GeoSceneComponents.createPlane(scene, {
                innerRadius: 3.5,
                outerRadius: 17,
                color: 0xffcc66,
                opacity: 0.15,
                rotation: { x: Math.PI / 2, y: 0, z: 0 }
            });
            
            GeoSceneComponents.createPlane(earthGroup, {
                innerRadius: 2.5,
                outerRadius: 8,
                color: 0x66ccaa,
                opacity: 0.15,
                rotation: { x: Math.PI / 2, y: 0, z: 0 }
            });
            
            GeoSceneComponents.createPolarStar(scene, {
                distance: 40,
                obliquity: 23.5
            });
            
            const seasonData = [
                { angle: 0, label: 'æ˜¥åˆ†', color: 0x66bb6a },
                { angle: 90, label: 'å¤è‡³', color: 0xff7043 },
                { angle: 180, label: 'ç§‹åˆ†', color: 0xffb74d },
                { angle: 270, label: 'å†¬è‡³', color: 0x4fc3f7 }
            ];
            GeoSceneComponents.createSeasonMarkers(scene, seasonData, 15);
            GeoSceneComponents.addAmbientLight(scene);
            
            earthGroup.position.set(15, 0, 0);
            
            // åŠ¨ç”»
            let angle = 0;
            function animate() {
                requestAnimationFrame(animate);
                earth.rotation.y += 0.005;
                if (earth.userData.clouds) {
                    earth.userData.clouds.rotation.y += 0.004;
                }
                angle += 0.1;
                const theta = angle * Math.PI / 180;
                earthGroup.position.x = 15 * Math.cos(theta);
                earthGroup.position.z = 15 * Math.sin(theta);
                renderer.render(scene, camera);
            }
            animate();
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        initUIComponents();
    </script>
</body>
</html>
